import{_ as C,u as q,q as g,v as E,x as M,f as z,r as c,o as l,h as F,w as B,j as a,a as e,l as b,n as v,c as y,y as N,m as h,p as T,s as U,t as j,i as D}from"./index.05d1aa2e.js";const n=i=>(U("data-v-75f174aa"),i=i(),j(),i),L=n(()=>e("h1",{class:"h2 mb-3"}," \u8A3B\u518A\u6210\u529F ",-1)),P=n(()=>e("p",{class:"mb-4 text-dark"}," \u8ACB\u81F3\u65B9\u624D\u8A3B\u518A\u7684 Email \u4FE1\u7BB1\u6536\u53D6\u9A57\u8B49\u4FE1\uFF0C \u53EF\u9EDE\u64CA\u9A57\u8B49\u9023\u7D50\u767B\u5165\uFF0C\u6216\u5728\u4E0B\u65B9\u8F38\u5165\u9A57\u8B49\u78BC ",-1)),A={class:"mb-4"},G=n(()=>e("label",{for:"validation",class:"form-label"},"\u9A57\u8B49\u78BC",-1)),H={class:"input-group"},J={key:0,style:{color:"inherit"}},K={key:1,style:{color:"inherit"}},O=["disabled"],Q=n(()=>e("p",{class:"text-center text-dark"},[e("small",null,"\u9084\u6C92\u6709\u6536\u5230\u9A57\u8B49\u78BC\u55CE\uFF1F\u806F\u7D61\u5C0F\u5E6B\u624B")],-1)),W=n(()=>e("div",{class:"d-flex justify-content-center"},[e("a",{href:"https://line.me/R/ti/p/%40guv7422g",target:"_blank",title:"LINE \u5BA2\u670D",class:"rounded-circle bg-light text-dark me-4"}," LINE "),e("a",{href:"https://m.me/hexschool",target:"_blank",title:"Facebook \u5BA2\u670D",class:"rounded-circle bg-light text-dark"}," f ")],-1)),X={__name:"RegisterVerify",setup(i){const{apiPutRegisterVerify:k,apiPostRegisterVerify:I}=D,d=q(),_=g({}),s=g({verify_code:""}),o=E(0),u=M(()=>o.value===0),p=f=>{o.value=f;const t=window.setInterval(()=>{o.value-=1,o.value===0&&window.clearInterval(t)},1e3)};z(()=>{_.account=decodeURIComponent(localStorage.getItem("d_RTfznkkwslIopaqd_account")),s.account=decodeURIComponent(localStorage.getItem("d_RTfznkkwslIopaqd_account")),localStorage.getItem("d_RTfznkkwslIopaqd_account")?p(60):d.push("/register")});const w=h(async()=>{await k(s),localStorage.removeItem("d_RTfznkkwslIopaqd_account"),sessionStorage.setItem("registerStatus","true"),d.push("/")}),m=h(async()=>{await I(_),T.toastMessage("success","","\u6210\u529F\u767C\u9001\u9A57\u8B49\u4FE1\u4EF6"),p(60)});return(f,t)=>{const V=c("VField"),x=c("ErrorMessage"),R=c("VForm");return l(),F(R,{ref:"form",onSubmit:a(w)},{default:B(({errors:S})=>[L,P,e("div",A,[G,e("div",H,[b(V,{id:"validation",modelValue:s.verify_code,"onUpdate:modelValue":t[0]||(t[0]=r=>s.verify_code=r),modelModifiers:{trim:!0},name:"verify_code",type:"text",label:"\u9A57\u8B49\u78BC",class:v(["form-control",{"is-invalid":S.verify_code}]),rules:"required|digits:6","aria-label":"\u9A57\u8B49\u78BC","aria-describedby":"button-addon2"},null,8,["modelValue","class"]),e("button",{id:"button-addon2",class:v(["btn btn-outline-primary fw-normal",{disabled:!a(u)}]),type:"button",onClick:t[1]||(t[1]=(...r)=>a(m)&&a(m)(...r))},[a(u)?(l(),y("span",J," \u91CD\u65B0\u767C\u9001 ")):(l(),y("span",K,N(o.value)+" \u79D2\u5F8C\u91CD\u65B0\u767C\u9001 ",1))],2),b(x,{name:"verify_code",class:"invalid-feedback"})])]),e("button",{type:"submit",class:"btn btn-primary w-100 mb-3",disabled:!s.verify_code}," \u9A57\u8B49\u5E33\u865F ",8,O),Q,W]),_:1},8,["onSubmit"])}}},$=C(X,[["__scopeId","data-v-75f174aa"]]);export{$ as default};
