import{e as h,u as v,q as V,f as y,r,o as g,h as k,w as M,j as x,a as s,l as a,n as u,m as R,p as S,i as q}from"./index.05d1aa2e.js";const C=s("h1",{class:"h2 mb-4"}," \u91CD\u8A2D\u5BC6\u78BC ",-1),F={class:"mb-4"},P={class:"mb-3"},z=s("label",{for:"account",class:"form-label"},"\u5E33\u865F\uFF08Email\uFF09",-1),A=["value"],B={class:"mb-3"},E=s("label",{for:"password",class:"form-label"},"\u65B0\u5BC6\u78BC",-1),U={class:"mb-4"},I=s("label",{for:"confirmation",class:"form-label"},"\u78BA\u8A8D\u65B0\u5BC6\u78BC",-1),N=["disabled"],$={__name:"ResetPwdSuccess",setup(Z){const{apiPostResetPwd:_}=q,p=h(),l=v(),e=V({account:"",password:"",confirm_password:""});let d="";y(()=>{const{token:t,email:o}=p.query;t?(d=t,e.account=decodeURIComponent(o)):l.push("/password/reset")});const w=R(async()=>{await _(d,e),sessionStorage.setItem("resetStatus","true"),S.toastMessage("success","","\u91CD\u8A2D\u5BC6\u78BC\u6210\u529F"),l.push("/")});return(t,o)=>{const i=r("VField"),c=r("ErrorMessage"),f=r("VForm");return g(),k(f,{ref:"form",onSubmit:x(w)},{default:M(({errors:m,meta:b})=>[C,s("div",F,[s("div",P,[z,s("input",{id:"account",type:"email",class:"form-control",value:e.account,disabled:"",readonly:""},null,8,A)]),s("div",B,[E,a(i,{id:"password",modelValue:e.password,"onUpdate:modelValue":o[0]||(o[0]=n=>e.password=n),modelModifiers:{trim:!0},name:"new_password",label:"\u65B0\u5BC6\u78BC",type:"password",class:u(["form-control",{"is-invalid":m.new_password}]),rules:{required:!0,regex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,16}$/}},null,8,["modelValue","class","rules"]),a(c,{name:"new_password",class:"invalid-feedback"})]),s("div",U,[I,a(i,{id:"confirmation",modelValue:e.confirm_password,"onUpdate:modelValue":o[1]||(o[1]=n=>e.confirm_password=n),name:"confirm_new_password",type:"password",label:"\u78BA\u8A8D\u65B0\u5BC6\u78BC",class:u(["form-control",{"is-invalid":m.confirm_new_password}]),rules:"required|confirmed:@new_password"},null,8,["modelValue","class"]),a(c,{name:"confirm_new_password",class:"invalid-feedback"})]),s("button",{type:"submit",class:"btn btn-primary w-100",disabled:!b.valid}," \u91CD\u8A2D\u5BC6\u78BC ",8,N)])]),_:1},8,["onSubmit"])}}};export{$ as default};
